---
icon: file
order: 750
---

# Что делать, если очень быстро растет база данных журнала в Хранителе

Для того, чтобы размер журнала регистрации рос медленнее, к его настройке надо отнестись очень серьезно. Не правильная настройка журнала может увеличивать ИБ Хранителя очень серьезно и необоснованно. Для этого выполните ряд требований:

* Отключите, если это не важно, кто когда вышел и зашел в ИБ (входы/выходы), если эта информация не актуальна для Вас.
* Надо понимать, что ИБ хранителя журнала может очень быстро расти и в том случае, если происходит интенсивный ввод данных и в больших количествах. Если допустим Ваша информационная база 1С работает 24/7 и в онлайн вводят документы сразу 50 пользователей, а основная база достигает 50 Гб, то не стоит удивляться, если журнал будет в 10-20 раз больше, т.к. в основную базу записывается только один объект и не важно сколько раз Вы будете его менять, а в журнал пишутся все события при записи объекта, т.е. любой чих, грубо говоря. Это, в общем, не рекомендация, а констатация факта. Не требуйте маленького размера от Хранителя, если вы хотите хранить все изменения, но при этом у Вас огромная рабочая база и высокая интенсивность работы.
* Для решения проблемы уменьшения размера информационной базы хранителя настройте хранитель таким образом, чтобы он очищал старые и не нужные для вас события. Можно задать период хранения и если для события период будет превышен, то событие будет удалено, что приведет к уменьшению размера ИБ хранителя. Как настроить удаление см. главу выше.
!!! Warning Важно! 
Выключите не нужные **регистры сведений**, фиксируйте изменения только важных регистров! На самом деле регистры сведений это очень больной вопрос. Регистр сведений - это объект, который не имеет ссылки, который бы определял конкретную запись, все определяется связкой всех измерений этой записи. При записи набора записей происходит анализ и записывается сразу "пачка" записей. Если фиксировать изменения какого-нибудь огромного регистра, например, КЛАДР или ФИАС, то размер базы возрастет значительно Если убрать регистрацию не нужных регистров Вы серьезно сэкономите объем в ИБ. Мало того, фиксировать изменения регистров сведений надо очень вдумчиво - по этим объектам очень долго определяются изменения.
!!!
* Кроме регистров можно так же не фиксировать изменения не нужных объектов других типов. Например, в типовых конфигурациях есть куча системных справочников: рабочие места, профили пользователей, идентификаторы метаданных и т.д. Знать кто и когда менял какие-то системные справочники в общем случае не нужно.
* В настройках подсистемы в рабочей ИБ не фиксируйте изменения реквизитов с типом "ХранилищеЗначения". Как правило там хранятся файлы, макеты и т.д. То, что большое, очень часто не обязательно фиксировать в журнале. Иногда важен сам факт изменения. Например, в справочнике "Файлы" изменился файл. Когда это нужно? Когда происходит анализ кто изменил этот файл. Т.е. нужен сам факт изменения. Нужен ли для хранения сам файл? В большинстве случаев может быть и нет. Так как у файла есть версии файлов, где этот файл можно заново получить. В настройках подсистемы есть специальная кнопка в списке регистрируемых объектов, которая отключит регистрацию изменений реквизитов объектов с типом "ХранилищеЗначений".
* Уменьшите интервал хранения измененных и событий без изменений (открыл, нажал "Записать"). События без изменений, можно хранить не больше.  

Это краткий список правил. Конечно, не нужно с фанатизмом отключать лишнее. Если Вам что-то нужно, то фиксируйте это без проблем, но будьте готовы к тому, что Хранитель будет быстро расти и увеличиваться и абсолютно нормально когда размер хранителя больше основной базы в несколько раз.


